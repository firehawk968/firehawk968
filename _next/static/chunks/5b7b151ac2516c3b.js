(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,67084,e=>{"use strict";var t=e.i(43476),r=e.i(71645);function n(){let e=(0,r.useRef)(null),[n,s]=(0,r.useState)(!1),c=(0,r.useRef)(!1),a=(0,r.useRef)({x:1,y:0}),i=(0,r.useRef)([]),l=(0,r.useRef)(null),[u,o]=(0,r.useState)(0),[d,x]=(0,r.useState)(!1),[m,h]=(0,r.useState)(()=>{try{return Number(localStorage.getItem("snake_best")||0)}catch{return 0}}),y=(0,r.useRef)(!1),[f,w]=(0,r.useState)(!1);function p(){a.current={x:1,y:0},i.current=Array.from({length:3}).map((e,t)=>({x:8-t,y:10})),v(),c.current=!1,s(!1),x(!1),o(0),g()}function v(){let e=new Set(i.current.map(e=>`${e.x},${e.y}`)),t=0,r=Math.floor(20*Math.random()),n=Math.floor(20*Math.random());for(;e.has(`${r},${n}`)&&t<500;)r=Math.floor(20*Math.random()),n=Math.floor(20*Math.random()),t++;l.current={x:r,y:n}}function b(){let e;c.current&&!y.current&&(e={...i.current[0]},((e.x+=a.current.x,e.y+=a.current.y,e.x<0||e.x>=20||e.y<0||e.y>=20||i.current.some(t=>t.x===e.x&&t.y===e.y))?function(){c.current=!1,s(!1),x(!0);try{u>m&&(h(u),localStorage.setItem("snake_best",String(u)))}catch{}return!1}():(i.current.unshift(e),l.current&&e.x===l.current.x&&e.y===l.current.y?(v(),o(e=>e+1)):i.current.pop(),g(),!0))&&setTimeout(b,120))}(0,r.useEffect)(()=>{p();let e=e=>{c.current||(d&&p(),function(){c.current||(c.current=!0,s(!0),x(!1),b())}()),"ArrowUp"===e.key&&0===a.current.y&&(a.current={x:0,y:-1}),"ArrowDown"===e.key&&0===a.current.y&&(a.current={x:0,y:1}),"ArrowLeft"===e.key&&0===a.current.x&&(a.current={x:-1,y:0}),"ArrowRight"===e.key&&0===a.current.x&&(a.current={x:1,y:0}),"p"===e.key.toLowerCase()&&c.current&&(y.current=!y.current,w(y.current),!y.current&&c.current&&b())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[d]);function g(){let t=e.current;if(!t)return;let r=t.getContext("2d");if(r)for(let[e,t]of(r.fillStyle="#0a0a0a",r.fillRect(0,0,400,400),r.strokeStyle="rgba(255,255,255,0.12)",r.lineWidth=2,r.strokeRect(.5,.5,399,399),l.current&&(r.fillStyle="#ff4d1a",r.fillRect(20*l.current.x,20*l.current.y,20,20)),r.fillStyle="#35b6ff",i.current.entries())){let n=2*(0!==e);r.fillRect(20*t.x+n,20*t.y+n,20-2*n,20-2*n)}}return(0,r.useEffect)(()=>{let e=0,t=0,r=r=>{e=r.clientX,t=r.clientY},n=r=>{let n=r.clientX-e,s=r.clientY-t;!(20>Math.abs(n)&&20>Math.abs(s))&&(Math.abs(n)>Math.abs(s)?(n>0&&0===a.current.x&&(a.current={x:1,y:0}),n<0&&0===a.current.x&&(a.current={x:-1,y:0})):(s>0&&0===a.current.y&&(a.current={x:0,y:1}),s<0&&0===a.current.y&&(a.current={x:0,y:-1})))};return window.addEventListener("pointerdown",r,{passive:!0}),window.addEventListener("pointerup",n,{passive:!0}),()=>{window.removeEventListener("pointerdown",r),window.removeEventListener("pointerup",n)}},[]),(0,t.jsx)("div",{className:"min-h-screen bg-[#0a0a0a] text-white px-6 py-12",children:(0,t.jsxs)("div",{className:"mx-auto max-w-xl",children:[(0,t.jsx)("h1",{className:"text-2xl font-semibold",children:"Snake"}),(0,t.jsx)("p",{className:"text-sm text-white/70 mt-2",children:"Arrow keys or swipe to move."}),(0,t.jsxs)("div",{className:"mt-4 flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"text-sm",children:["Score: ",u," ",(0,t.jsxs)("span",{className:"ml-3 text-white/60",children:["Best: ",m]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("div",{className:"text-xs text-white/50",children:"Press any key to start / restart. Use arrow keys to move. Press 'P' to pause."}),(0,t.jsx)("a",{href:"/",className:"rounded bg-white/[0.06] px-3 py-1 text-sm",children:"Home"})]})]}),(0,t.jsxs)("div",{className:"mt-6 relative",children:[(0,t.jsx)("canvas",{ref:e,width:400,height:400,style:{background:"#071017",borderRadius:8,boxShadow:"inset 0 0 0 1px rgba(255,255,255,0.02)"}}),d?(0,t.jsx)("div",{className:"absolute inset-0 grid place-items-center bg-black/40",children:(0,t.jsxs)("div",{className:"rounded border border-red-500/30 bg-red-500/5 p-6 text-center",children:[(0,t.jsx)("div",{className:"text-lg font-semibold text-red-300",children:"Game Over"}),(0,t.jsxs)("div",{className:"mt-2 text-sm text-white/70",children:["Score: ",u]}),(0,t.jsx)("div",{className:"mt-4 text-sm text-white/60",children:"Press any key to restart"})]})}):null]})]})})}e.s(["default",()=>n])}]);