(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,49174,e=>{"use strict";var t=e.i(43476),r=e.i(71645);function n(){let e=(0,r.useRef)(null),[n,s]=(0,r.useState)(!1),c=(0,r.useRef)(!1),[a,i]=(0,r.useState)(0),[l,u]=(0,r.useState)(()=>{try{return Number(localStorage.getItem("pong_best")||0)}catch{return 0}}),[o,d]=(0,r.useState)(!1),[x,m]=(0,r.useState)(!0),y=(0,r.useRef)({x:240,y:140,vx:3,vy:2,r:6}),v=(0,r.useRef)({y:105,vy:0}),h=(0,r.useRef)(105),f=(0,r.useRef)(0),w=(0,r.useRef)(!1),g=(0,r.useRef)(null),b=(0,r.useRef)(null);function p(e=440,t=.05,r=.02){try{b.current||(b.current=new(window.AudioContext||window.webkitAudioContext));let n=b.current,s=n.createOscillator(),c=n.createGain();s.type="sine",s.frequency.value=e,c.gain.value=r,s.connect(c),c.connect(n.destination),s.start(),setTimeout(()=>{s.stop()},1e3*t)}catch{}}(0,r.useEffect)(()=>{k()},[]);function k(){let t=e.current;if(!t)return;let r=t.getContext("2d");r&&(r.fillStyle="#071017",r.fillRect(0,0,480,280),r.strokeStyle="rgba(255,255,255,0.06)",r.setLineDash([6,6]),r.beginPath(),r.moveTo(240,0),r.lineTo(240,280),r.stroke(),r.setLineDash([]),r.fillStyle="#35b6ff",r.fillRect(0,v.current.y,8,70),r.fillRect(472,h.current,8,70),r.fillStyle="#ff4d1a",r.beginPath(),r.arc(y.current.x,y.current.y,y.current.r,0,2*Math.PI),r.fill(),r.strokeStyle="rgba(255,255,255,0.06)",r.lineWidth=1,r.strokeRect(.5,.5,479,279))}return(0,r.useEffect)(()=>{let t=!1,r=!1,n=t=>{let r=e.current?.getBoundingClientRect();if(!r)return;let n=t.clientY-r.top-35;v.current.y=Math.max(0,Math.min(210,n)),k()},x=e=>{if(c.current||(o&&(y.current={x:240,y:140,vx:3*(Math.random()>.5?1:-1),vy:2,r:6},v.current.y=105,v.current.vy=0,h.current=105,i(0),f.current=0,c.current=!1,s(!1),d(!1),m(!0),k()),c.current||(w.current&&(w.current=!1,g.current&&cancelAnimationFrame(g.current),g.current=null),c.current=!0,s(!0),m(!1),function e(){c.current&&(function(){let e=y.current;v.current.y+=v.current.vy,v.current.y=Math.max(0,Math.min(210,v.current.y));let t=Math.max(0,Math.min(210,e.y-35));h.current+=(t-h.current)*.08,h.current<0&&(h.current=0),h.current>210&&(h.current=210);let r=e.x,n=e.y,o=e.vx,x=e.vy,w=r+o,g=n+x;(g-e.r<0||g+e.r>280)&&(g=n+(x=-x),e.vy=x);let b=v.current.y,k=!1,j=r-e.r,N=w-e.r;if(j>=8&&N<=8&&e.vx<0){let t=N-j,r=0===t?0:(8-j)/t;if(r>=0&&r<=1){let t=n+(g-n)*r;if(t>=b&&t<=b+70){k=!0,e.x=8+e.r+.5,e.y=t;let r=(t-(b+35))/35;e.vx=Math.max(1.2,Math.abs(o)+.2+.02*a),e.vy=4*r,p(600,.03,.03)}}}if(!k&&e.x-e.r<8&&e.vx<0&&e.y>=b&&e.y<=b+70){k=!0,e.x=8+e.r+.5;let t=(e.y-(b+35))/35,r=Math.max(1.2,Math.abs(e.vx)+.2+.02*a);e.vx=r,e.vy=4*t,p(600,.03,.03)}k||(e.x=w,e.y=g,e.vx=o,e.vy=x);let S=r+e.r,M=w+e.r;if(!k&&S<=472&&M>=472&&e.vx>0){let t=M-S,r=0===t?0:(472-S)/t;if(r>=0&&r<=1){let t=n+(g-n)*r;if(t>=h.current&&t<=h.current+70){let r=(t-(h.current+35))/35,n=Math.max(1.2,Math.abs(o)+.2+.01*a);e.x=472-e.r-.5,e.y=t,e.vx=-n,e.vy=4*r,p(480,.02,.02)}}}if(e.x+e.r<0){c.current=!1,s(!1),d(!0),m(!1);try{let e=f.current;e>l&&(u(e),localStorage.setItem("pong_best",String(e)))}catch{}p(220,.2,.04)}e.x-e.r>480&&(i(e=>{let t=e+1;f.current=t;try{console.log("Pong: player scored",t)}catch{}return t}),e.x=240,e.y=140,e.vx=3*(Math.random()>.5?1:-1),e.vy=2)}(),k(),requestAnimationFrame(e))}())),("w"===e.key||"W"===e.key||"ArrowUp"===e.key)&&(t=!0,v.current.vy=-4),("s"===e.key||"S"===e.key||"ArrowDown"===e.key)&&(r=!0,v.current.vy=4),!c.current&&!w.current&&(t||r)){w.current=!0;let e=()=>{v.current.y+=v.current.vy,v.current.y=Math.max(0,Math.min(210,v.current.y)),k(),w.current&&(g.current=requestAnimationFrame(e))};g.current=requestAnimationFrame(e)}},b=e=>{("w"===e.key||"W"===e.key||"ArrowUp"===e.key)&&(t=!1),("s"===e.key||"S"===e.key||"ArrowDown"===e.key)&&(r=!1),t||r||(v.current.vy=0,w.current&&(w.current=!1,g.current&&cancelAnimationFrame(g.current),g.current=null)),t&&(v.current.vy=-4),r&&(v.current.vy=4)},j=e.current;return j&&j.addEventListener("pointermove",n),window.addEventListener("keydown",x),window.addEventListener("keyup",b),()=>{j&&j.removeEventListener("pointermove",n),window.removeEventListener("keydown",x),window.removeEventListener("keyup",b)}},[]),(0,t.jsx)("div",{className:"min-h-screen bg-[#0a0a0a] text-white px-6 py-12",children:(0,t.jsxs)("div",{className:"mx-auto max-w-xl",children:[(0,t.jsx)("h1",{className:"text-2xl font-semibold",children:"Pong"}),(0,t.jsx)("p",{className:"text-sm text-white/70 mt-2",children:"Move your mouse/touch or use W/S (or arrows). Press Space or Enter to start."}),(0,t.jsxs)("div",{className:"mt-4 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"text-sm",children:["Score: ",a," ",(0,t.jsxs)("span",{className:"ml-3 text-white/60",children:["Best: ",l]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("div",{className:"text-xs text-white/50",children:"Press any key to start / restart"}),(0,t.jsx)("a",{href:"/",className:"rounded bg-white/[0.06] px-3 py-1 text-sm",children:"Home"})]})]}),(0,t.jsxs)("div",{className:"mt-6 relative",children:[(0,t.jsx)("canvas",{ref:e,width:480,height:280,className:"rounded",style:{background:"#071017"}}),x&&!n?(0,t.jsx)("div",{className:"absolute inset-0 grid place-items-center",children:(0,t.jsxs)("div",{className:"rounded bg-white/[0.03] p-6 text-center",children:[(0,t.jsx)("div",{className:"text-lg font-semibold",children:"Press any key to start"}),(0,t.jsxs)("div",{className:"mt-2 text-sm text-white/60",children:["Best: ",l]})]})}):null,o?(0,t.jsx)("div",{className:"absolute inset-0 grid place-items-center bg-black/40",children:(0,t.jsxs)("div",{className:"rounded border border-red-500/30 bg-red-500/5 p-6 text-center",children:[(0,t.jsx)("div",{className:"text-lg font-semibold text-red-300",children:"Game Over"}),(0,t.jsxs)("div",{className:"mt-2 text-sm text-white/70",children:["Score: ",a]}),(0,t.jsx)("div",{className:"mt-4 text-sm text-white/60",children:"Press any key to restart"})]})}):null]})]})})}e.s(["default",()=>n])}]);